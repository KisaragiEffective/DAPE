# API設計

## 大前提
* HTTPを使う
* 厳しくなってきたら WebSocket も併用する

## ペイロード形式

* 基本的にJSON
* 画像・動画をアップロードしたい場合は別口のエンドポイントを作る
* multipart form は使わない

* HTTPメソッドを適宜選択する
    * 取得はGETメソッドを使う
    * 更新はPOSTメソッドを使う
        * PUT メソッドを使うのは同じ操作を何回繰り返しても副作用がべき等な時
            * 例えば、ユーザーアイコンをセットするなどは同じペイロードで何回呼び出しても全体としてはべき等
    * 削除はDELETEメソッドを使う
* RESTfulだが、フィールドにはネクストアクションを起こすURLを含めない
    * ペイロードの無駄
* 可能な限り、ETagとLast-Modifiedを提供する
    * 強いETag を提供できるときは強いETagを使う
        * 強い ETag は1文字でも変わるなら違うETagになるべき
